
<app-encabezado [titulo]="'| Clientes'"></app-encabezado>  
  <ion-content>
  <div >
    <form style="background: transparent;margin-top: 0px;">
      <ion-row>
        <ion-col  md="3">
          <ion-item>
              <ion-label position="floating">No Cliente</ion-label>
              <ion-input mo [clearInput]="true" autofocus="true" type="email" [(ngModel)]="filtros.cliente" name="cliente" (keyup.enter)="onEnter()"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col md="3">
          <ion-item>
              <ion-label position="floating">Razon Social</ion-label>
              <ion-input [clearInput]="true" type="text" [(ngModel)]="filtros.razon_social" name="razon_social" (keyup.enter)="onEnter()"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col md="3">
          <ion-item>
              <ion-label position="floating">Nombre Comercial</ion-label>
              <ion-input [clearInput]="true" (ionClear)="onInputClear($event)" type="text" [(ngModel)]="filtros.nombre_comercial" name="nombre_comercial" (keyup.enter)="onEnter()"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col md="3">
          <ion-item>
              <ion-label position="floating">No. Registro</ion-label>
              <ion-input [clearInput]="true" type="text" [(ngModel)]="filtros.registro" name="registro" (keyup.enter)="onEnter()"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      
      <ion-row style="margin-top: 10px;">
          <ion-col size="12" style="text-align: right;">
              <ion-button  shape="round" fill="outline"  color="secondary" style="text-transform: capitalize;" [disabled]="loading" (click)="buscar(true)">
                <fa-icon [icon]="['fas','search']"></fa-icon> Buscar
              </ion-button>
              <ion-button  shape="round" fill="outline" [disabled]="loading" style="text-transform: capitalize;" (click)="limpiar()"><fa-icon [icon]="['fas','eraser']"></fa-icon> Limpiar</ion-button>
          </ion-col>
      </ion-row>
    </form>
  </div>


  <div style="padding: 10px">
    
    <ion-progress-bar type="indeterminate" *ngIf="loading"></ion-progress-bar>
    <table id="customers">
      <tr>
        <th>#</th>
        <th>No. Cliente</th>
        <th>Razon Social</th>
        <th>Nombre Comercial</th>
        <th>Direcci√≥n</th>
        <th style="width: 140px;"></th>
      </tr>
      <tr *ngFor="let item of clientes; let i = index">
        <td>{{(filtros.offset+1)+i}}</td>
        <td>{{item.codigo}}</td>
        <td>{{item.nombre_social}}</td>
        <td>{{item.nombre_comercial}}</td>
        <td>{{item.direccion}}</td>
        <td>
          
            <ion-button  color="success" (click)="add(item, i)">
              <fa-icon [icon]="['fas','plus-square']"></fa-icon>
            </ion-button>
            <!--<ion-button  *ngIf="(item.tipo_pago!='CEN' || item.tipo_pago!='0D') && item.limite-item.saldo>0" color="primary" (click)="add(item, i)">
            <ion-button  *ngIf="(item.tipo_pago!='CEN' || item.tipo_pago!='0D') && item.limite-item.saldo>0" color="primary" (click)="add(item, i)">
              <fa-icon [icon]="['fas','plus-square']"></fa-icon>
            </ion-button>-->
          <ion-button   color="dark" (click)="show(item)">
            <fa-icon [icon]="['fas','eye']"></fa-icon>
          </ion-button>
        </td>
      </tr>
      <tr *ngIf="registros!=-1 && clientes.length==0">
        <td style="text-align: center;" colspan="6">No se encontraron registros</td>
      </tr>
    </table>
    <mat-paginator #paginator class="table-paginator" *ngIf="clientes.length>0"
      showFirstLastButtons
      [length]="total"
      [pageSizeOptions]="SizeOptions" 
      [pageSize]="config.getPaginacion()"
      [pageIndex]="filtros.pageIndex"
      (page)="paginar($event)">
    </mat-paginator>
  </div>



</ion-content>
