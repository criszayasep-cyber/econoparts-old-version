<ion-header>
  <ion-toolbar class="background-yellow" mode="md">
    <ion-title>Nota de crédito relacionada - {{documento}}</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div style="padding: 20px;">

    <ion-progress-bar type="indeterminate" *ngIf="loading"></ion-progress-bar>
    <table class="customers">
      <tr>
        <th>Fecha</th>
        <th>Número</th>
        <th>Documento</th>
        <th>Descripcion</th>
        <th>Doc. Externo</th>
        <th>Monto</th>
      </tr>
      <tr *ngFor="let item of notasCredito">
        <td>{{item.fecha | date: 'd/M/y'}}</td>
        <td>{{item.numero}}</td>
        <td>{{item.documento}}</td>
        <td>{{item.descripcion}}</td>
        <td>{{item.documento_externo}}</td>
        <td>{{item.monto | number:'1.2-2'}}</td>
      </tr>
      <tr *ngIf="notasCredito?.length==0">
        <td style="text-align: center;" colspan="11">No se encontraron registros</td>
      </tr>
    </table>
    <br/>
    <div  *ngIf="notasCredito?.length>0">
      <p style="font-weight: bold;font-size: 20px;margin:0px;">Detalle:</p>
      <table class="customers">
        <tr>
          <th>Código</th>
          <th>Descripción</th>
          <th>Cantidad</th>
          <th>Identificador</th>
          <th>Ubicación</th>
          <th style="text-align: right;">Monto</th>
        </tr>
        <tr *ngFor="let item of detalle">
          <td>{{item.codigo}}</td>
          <td>{{item.descripcion}}</td>
          <td>{{item.cantidad}}</td>
          <td>{{item.identificador}}</td>
          <td>{{item.ubicacion}}</td>
          <td style="text-align: right;">{{item.monto | number:'1.2-2'}}</td>
        </tr>
        <tr *ngIf="detalle?.length>0">
          <th colspan="5" style="text-align: right;">TOTAL</th>
          <th style="text-align: right;">{{total() | number:'1.2-2'}}</th>
        </tr>
        <tr *ngIf="detalle?.length==0">
          <td style="text-align: center;" colspan="11">No se encontraron registros</td>
        </tr>
      </table>
    </div>
  </div>
</ion-content>
